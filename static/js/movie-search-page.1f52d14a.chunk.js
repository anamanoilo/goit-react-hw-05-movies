"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[198],{6363:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var n=r(8683),a=r(8152),c={movieLink:"MoviesSearchPage_movieLink__zHvXd",formWrapper:"MoviesSearchPage_formWrapper__EebM0",input:"MoviesSearchPage_input__MJ-mh"},i=r(2791),u=r(1523),s=r(9271),o=r(1181),p=r(184),f=function(){var e=(0,i.useState)(""),t=(0,a.Z)(e,2),r=t[0],f=t[1],h=(0,i.useState)(null),v=(0,a.Z)(h,2),l=v[0],d=v[1],m=(0,s.k6)(),y=(0,s.TH)(),b=(0,s.$B)().url,g=new URLSearchParams(y.search).get("query")||"";return(0,i.useEffect)((function(){g&&(o.Z.searchQuery=g,o.Z.fetchMovieByKeyword().then((function(e){var t=e.results;d(t)})))}),[g]),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:c.formWrapper,children:(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r.trim()&&(o.Z.searchQuery=r.trim(),o.Z.fetchMovieByKeyword().then((function(e){var t=e.results;d(t),m.push((0,n.Z)((0,n.Z)({},y),{},{search:"query=".concat(r)}))})).then(f("")))},className:c.form,children:[(0,p.jsx)("input",{className:c.input,type:"text",value:r,onChange:function(e){f(e.target.value)}}),(0,p.jsx)("button",{type:"submit",children:"Search"})]})}),l&&(0,p.jsx)("ul",{children:l.map((function(e){return(0,p.jsx)("li",{children:(0,p.jsx)(u.rU,{className:c.movieLink,to:{pathname:"".concat(b,"/").concat(e.id),state:{from:y}},children:e.title||e.name})},e.id)}))})]})}},1181:function(e,t,r){var n=r(5861),a=r(5671),c=r(3144),i=r(6274),u=r(9359),s=r(7757),o=r.n(s),p=r(4569),f=r.n(p);f().defaults.baseURL="https://api.themoviedb.org/3";var h=(0,u.Z)("API_KEY"),v=function(){function e(){(0,a.Z)(this,e),Object.defineProperty(this,h,{writable:!0,value:"53d591c4c7c46fce2d77997efee7f254"}),this.page=1,this.movieId=0,this.searchQuery=""}return(0,c.Z)(e,[{key:"fetchTrendingMovies",value:function(){var e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().get("/trending/movies/day?api_key=".concat((0,i.Z)(this,h)[h],"&page=").concat(this.page));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMovieDetails",value:function(){var e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().get("/movie/".concat(this.movieId,"?api_key=").concat((0,i.Z)(this,h)[h]));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMovieCast",value:function(){var e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().get("/movie/".concat(this.movieId,"/credits?api_key=").concat((0,i.Z)(this,h)[h]));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMovieReviews",value:function(){var e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().get("/movie/".concat(this.movieId,"/reviews?api_key=").concat((0,i.Z)(this,h)[h]));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMovieByKeyword",value:function(){var e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().get("/search/movie/?api_key=".concat((0,i.Z)(this,h)[h],"&query=").concat(this.searchQuery,"&page=").concat(this.page,"&include_adult=false"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}}]),e}(),l=new v;t.Z=l},8683:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,{Z:function(){return c}})}}]);
//# sourceMappingURL=movie-search-page.1f52d14a.chunk.js.map