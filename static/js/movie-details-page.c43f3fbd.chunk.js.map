{"version":3,"file":"static/js/movie-details-page.c43f3fbd.chunk.js","mappings":"6PACA,EAA0B,kCAA1B,EAA0E,sEAA1E,EAAuM,yCAAvM,EAA2P,mCAA3P,EAA+S,yC,uCCYzSA,GAAOC,EAAAA,EAAAA,OAAK,kBAChB,iCAEIC,GAAUD,EAAAA,EAAAA,OAAK,kBACnB,iCA+FF,EA5FyB,WACvB,OAA0BE,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAUC,EAAAA,EAAAA,MACVC,GAAWC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MAARD,KAERE,EAAAA,EAAAA,YAAU,WACJR,IACF,iBAAC,2FACCS,EAAAA,EAAAA,QAAcT,EADf,kBAGsBS,EAAAA,EAAAA,oBAHtB,OAGSC,EAHT,OAIGX,EAASW,GAJZ,wGAAD,KAQD,CAACV,IAMJ,OACE,gCACE,mBAAQW,KAAK,SAASC,QANJ,WAAO,IAAD,IAC1BV,EAAQW,KAAR,iBAAaT,QAAb,IAAaA,GAAb,UAAaA,EAAUU,aAAvB,aAAa,EAAiBC,YAA9B,QAAsC,MAKpC,qBAGCjB,IACC,iCACE,iBAAKkB,UAAWC,EAAhB,WACE,gBACEC,IACEpB,EAAMqB,YAAN,yCACsCrB,EAAMqB,aACxCC,EAENC,IAAKvB,EAAMwB,OAASxB,EAAMyB,KAC1BC,MAAM,WAER,iBAAKR,UAAWC,EAAhB,WACE,0BACGnB,EAAMwB,OAASxB,EAAMyB,KADxB,IAEG,IAAIE,KACH3B,EAAM4B,cAAgB5B,EAAM6B,gBAC5BC,cAJJ,QAOA,wCAAqC,GAArB9B,EAAM+B,aAAtB,QACA,sCACA,uBAAI/B,EAAMgC,UAAY,oBACtB,oCACA,uBACGhC,EAAMiC,OAAOC,KAAI,qBAAGT,QAAiBU,KAAK,MACzC,4BAIR,iBAAKjB,UAAWC,EAAhB,WACE,oDACA,SAAC,KAAD,CACED,UAAWC,EACXiB,gBAAiBjB,EACjBkB,GAAE,UAAK7B,EAAL,SAHJ,mBAOA,SAAC,KAAD,CACEU,UAAWC,EACXiB,gBAAiBjB,EACjBkB,GAAE,UAAK7B,EAAL,YAHJ,yBAQF,0BACE,UAAC,EAAA8B,SAAD,CAAUC,UAAU,SAACC,EAAA,EAAD,IAApB,WACE,SAAC,KAAD,CAAOC,KAAI,wBAAX,UACE,SAAC7C,EAAD,OAEF,SAAC,KAAD,CAAO6C,KAAI,2BAAX,UACE,SAAC3C,EAAD,mB,iHCpGhB4C,IAAAA,SAAAA,QAAyB,+BAAzB,yBAEMC,EAAAA,WAAAA,SAAAA,KAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,OAAAA,eAAAA,KAAAA,EAAAA,CAAAA,UAAAA,EAAAA,MACO,0CACXC,KAAO,EAAE,KACT1C,QAAU,EAAE,KACZ2C,YAAc,GA4Cb,OA5Ca,8EAEd,oGACyBH,IAAAA,IAAA,+CACWI,KADX,uBACiCA,KAAKF,OAF/D,cACQG,EADR,yBAISA,EAASnC,MAJlB,kGAFc,IAEd,kEAOA,oGACyB8B,IAAAA,IAAA,iBACXI,KAAK5C,QADM,4BACa4C,KADb,QADzB,cACQC,EADR,yBAISA,EAASnC,MAJlB,kGAPA,IAOA,+DAOA,oGACyB8B,IAAAA,IAAA,iBACXI,KAAK5C,QADM,oCACqB4C,KADrB,QADzB,cACQC,EADR,yBAISA,EAASnC,MAJlB,kGAPA,IAOA,kEAMA,oGACyB8B,IAAAA,IAAA,iBACXI,KAAK5C,QADM,oCACqB4C,KADrB,QADzB,cACQC,EADR,yBAISA,EAASnC,MAJlB,kGANA,IAMA,oEAOA,oGACyB8B,IAAAA,IAAA,yCACKI,KADL,wBAC4BA,KAAKD,YADjC,iBAEnBC,KAAKF,KAFc,yBADzB,cACQG,EADR,yBAMSA,EAASnC,MANlB,kGAPA,IAOA,2BASA,WACEkC,KAAKF,MAAQ,IACd,uBAED,WACEE,KAAKF,KAAO,MACb,EAhDGD,GAkDAhC,EAAM,IAAIgC,EAEhB,O","sources":["webpack://react-homework-template/./src/pages/MovieDetailsPage/MovieDetailsPage.module.scss?c5cb","pages/MovieDetailsPage/MovieDetailsPage.jsx","services/ApiService.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MovieDetailsPage_wrapper__sCX33\",\"cardWrapper\":\"MovieDetailsPage_cardWrapper__43xqk MovieDetailsPage_wrapper__sCX33\",\"item\":\"MovieDetailsPage_item__hR45E\",\"contentWrapper\":\"MovieDetailsPage_contentWrapper__B8GXY\",\"infoLink\":\"MovieDetailsPage_infoLink__hsymv\",\"activeInfoLink\":\"MovieDetailsPage_activeInfoLink__BaghR\"};","import { useState, useEffect, lazy, Suspense } from 'react';\nimport {\n  useParams,\n  useHistory,\n  useLocation,\n  useRouteMatch,\n  NavLink,\n  Route,\n} from 'react-router-dom';\nimport s from './MovieDetailsPage.module.scss';\nimport notFoundImg from 'images/not_found_ver.jpg';\nimport api from 'services/ApiService';\nimport Loader from 'components/Loader/Loader';\nconst Cast = lazy(() =>\n  import('components/Cast' /* webpackChunkName: \"cast\" */)\n);\nconst Reviews = lazy(() =>\n  import('components/Reviews' /* webpackChunkName: \"reviews\" */)\n);\n\nconst MovieDetailsPage = () => {\n  const [movie, setMovie] = useState(null);\n\n  const { movieId } = useParams();\n  const history = useHistory();\n  const location = useLocation();\n  const { url } = useRouteMatch();\n\n  useEffect(() => {\n    if (movieId) {\n      (async () => {\n        api.movieId = movieId;\n        try {\n          const data = await api.fetchMovieDetails();\n          setMovie(data);\n        } catch (err) {}\n      })();\n    }\n  }, [movieId]);\n\n  const onGoBackClick = () => {\n    history.push(location?.state?.from ?? '/');\n  };\n\n  return (\n    <section>\n      <button type=\"button\" onClick={onGoBackClick}>\n        Go Back\n      </button>\n      {movie && (\n        <>\n          <div className={s.cardWrapper}>\n            <img\n              src={\n                movie.poster_path\n                  ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n                  : notFoundImg\n              }\n              alt={movie.title || movie.name}\n              width=\"300px\"\n            />\n            <div className={s.contentWrapper}>\n              <h2>\n                {movie.title || movie.name}(\n                {new Date(\n                  movie.release_date || movie.first_air_date\n                ).getFullYear()}\n                )\n              </h2>\n              <p>User Score: {movie.vote_average * 10}%</p>\n              <h2>Overview</h2>\n              <p>{movie.overview || 'Data not found'}</p>\n              <h2>Genres</h2>\n              <p>\n                {movie.genres.map(({ name }) => name).join(' ') ||\n                  'Genres not found'}\n              </p>\n            </div>\n          </div>\n          <div className={s.wrapper}>\n            <h2>Additional information</h2>\n            <NavLink\n              className={s.infoLink}\n              activeClassName={s.activeInfoLink}\n              to={`${url}/cast`}\n            >\n              Cast\n            </NavLink>\n            <NavLink\n              className={s.infoLink}\n              activeClassName={s.activeInfoLink}\n              to={`${url}/reviews`}\n            >\n              Reviews\n            </NavLink>\n          </div>\n          <div>\n            <Suspense fallback={<Loader />}>\n              <Route path={`/movies/:movieId/cast`}>\n                <Cast />\n              </Route>\n              <Route path={`/movies/:movieId/reviews`}>\n                <Reviews />\n              </Route>\n            </Suspense>\n          </div>\n        </>\n      )}\n    </section>\n  );\n};\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nclass ApiService {\n  #API_KEY = '53d591c4c7c46fce2d77997efee7f254';\n  page = 1;\n  movieId = 0;\n  searchQuery = '';\n\n  async fetchTrendingMovies() {\n    const response = await axios.get(\n      `/trending/movies/day?api_key=${this.#API_KEY}&page=${this.page}`\n    );\n    return response.data;\n  }\n\n  async fetchMovieDetails() {\n    const response = await axios.get(\n      `/movie/${this.movieId}?api_key=${this.#API_KEY}`\n    );\n    return response.data;\n  }\n\n  async fetchMovieCast() {\n    const response = await axios.get(\n      `/movie/${this.movieId}/credits?api_key=${this.#API_KEY}`\n    );\n    return response.data;\n  }\n  async fetchMovieReviews() {\n    const response = await axios.get(\n      `/movie/${this.movieId}/reviews?api_key=${this.#API_KEY}`\n    );\n    return response.data;\n  }\n\n  async fetchMovieByKeyword() {\n    const response = await axios.get(\n      `/search/movie/?api_key=${this.#API_KEY}&query=${this.searchQuery}&page=${\n        this.page\n      }&include_adult=false`\n    );\n    return response.data;\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n}\nconst api = new ApiService();\n\nexport default api;\n"],"names":["Cast","lazy","Reviews","useState","movie","setMovie","movieId","useParams","history","useHistory","location","useLocation","url","useRouteMatch","useEffect","api","data","type","onClick","push","state","from","className","s","src","poster_path","notFoundImg","alt","title","name","width","Date","release_date","first_air_date","getFullYear","vote_average","overview","genres","map","join","activeClassName","to","Suspense","fallback","Loader","path","axios","ApiService","page","searchQuery","this","response"],"sourceRoot":""}