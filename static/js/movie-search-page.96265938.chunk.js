"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[198],{6683:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,{default:function(){return v}});var i=r(8152),u={movieLink:"MoviesSearchPage_movieLink__zHvXd",formWrapper:"MoviesSearchPage_formWrapper__EebM0",input:"MoviesSearchPage_input__MJ-mh"},s=r(2791),o=r(1523),p=r(9271),f=r(1181),h=r(184),v=function(){var e=(0,s.useState)(""),t=(0,i.Z)(e,2),r=t[0],n=t[1],a=(0,s.useState)(null),v=(0,i.Z)(a,2),l=v[0],m=v[1],y=(0,p.k6)(),d=(0,p.TH)(),b=(0,p.$B)().url,g=new URLSearchParams(d.search).get("query")||"";return(0,s.useEffect)((function(){g&&(f.Z.searchQuery=g,f.Z.fetchMovieByKeyword().then((function(e){var t=e.results;m(t)})))}),[g]),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:u.formWrapper,children:(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r.trim()&&(f.Z.searchQuery=r.trim(),f.Z.fetchMovieByKeyword().then((function(e){var t=e.results;m(t),y.push(c(c({},d),{},{search:"query=".concat(r)}))})).then(n("")))},className:u.form,children:[(0,h.jsx)("input",{className:u.input,type:"text",value:r,onChange:function(e){n(e.target.value)}}),(0,h.jsx)("button",{type:"submit",children:"Search"})]})}),l&&(0,h.jsx)("ul",{children:l.map((function(e){return(0,h.jsx)("li",{children:(0,h.jsx)(o.rU,{className:u.movieLink,to:{pathname:"".concat(b,"/").concat(e.id),state:{from:d}},children:e.title||e.name})},e.id)}))})]})}},1181:function(e,t,r){var n=r(5861),a=r(5671),c=r(3144),i=r(6274),u=r(9359),s=r(7757),o=r.n(s),p=r(4569),f=r.n(p);f().defaults.baseURL="https://api.themoviedb.org/3";var h=(0,u.Z)("API_KEY"),v=function(){function e(){(0,a.Z)(this,e),Object.defineProperty(this,h,{writable:!0,value:"53d591c4c7c46fce2d77997efee7f254"}),this.page=1,this.movieId=0,this.searchQuery=""}return(0,c.Z)(e,[{key:"fetchTrendingMovies",value:function(){var e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().get("/trending/movies/day?api_key=".concat((0,i.Z)(this,h)[h],"&page=").concat(this.page));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMovieDetails",value:function(){var e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().get("/movie/".concat(this.movieId,"?api_key=").concat((0,i.Z)(this,h)[h]));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMovieCast",value:function(){var e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().get("/movie/".concat(this.movieId,"/credits?api_key=").concat((0,i.Z)(this,h)[h]));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMovieReviews",value:function(){var e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().get("/movie/".concat(this.movieId,"/reviews?api_key=").concat((0,i.Z)(this,h)[h]));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMovieByKeyword",value:function(){var e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().get("/search/movie/?api_key=".concat((0,i.Z)(this,h)[h],"&query=").concat(this.searchQuery,"&page=").concat(this.page,"&include_adult=false"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}}]),e}(),l=new v;t.Z=l}}]);
//# sourceMappingURL=movie-search-page.96265938.chunk.js.map